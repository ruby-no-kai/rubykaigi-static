<!DOCTYPE html
    PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
  <meta http-equiv="Content-Language" content="en">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Script-Type" content="text/javascript; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta name="generator" content="Hiki 0.9dev">
  <title>日本 Ruby 会議 2007 - Log0609-S4-02</title>
  <link rel="stylesheet" type="text/css" href="/2007/hiki_base.css" media="all">
  <link rel="stylesheet" type="text/css" href="/2007/rk7/ruby_kaigi.css" media="all">
  <link rel="alternate" type="application/rss+xml" title="RSS" href="index.rss">  <link rel="icon" type="image/png" href="http://jp.rubyist.net/favicon.png">
  <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
</head>

<body>
<a name="top"> </a>
<div class="main">
  <div class="logo"><a href="index.html"><img style="border: 0;" src="ruby_kaigi_logo.png" alt="日本Rubyカンファレンス2006"></a></div>
  
  <div><div class="day">
  <h2><span class="date"><a name="l0"> </a></span><span class="title">The World In 30 Minutes　（Tim Bray）</span></h2>
  <div class="body">
    <div class="section">
      <dl>
<dt>スピーカー</dt>
<dd>Tim Bray - Sun Microsystems, Inc; The Internet Engineering Task Force "Atompub"
</dd>
<dt>プロフィール</dt>
<dd>Tim Bray, a Canadian, has been in the software profession for over twenty years.  He's worked on the Oxford English Dictionary, Web Search Engines, XML, Atom, and Blogging technology.  He currently servers as Director of Web Technologies at Sun Microsystems and publishes a blog at <a href="http://www.tbray.org/ongoing/" class="external">http://www.tbray.org/ongoing/</a>
</dd>
<dt>講演時間</dt>
<dd>16：30〜17：00
</dd>
<dt>講演資料</dt>
<dd><a href="http://www.tbray.org/talks/rubykaigi2007.pdf" class="external">http://www.tbray.org/talks/rubykaigi2007.pdf</a><br><a href="the_world_in_30minutes.pdf">the_world_in_30minutes.pdf</a> （オリジナル, 3.90 MB）
</dd>
</dl>
<p><a href="http://www.tbray.org/talks/rubykaigi2007.pdf" class="external">http://www.tbray.org/talks/rubykaigi2007.pdf</a>
…公演中は404でしたが(It's coming)、
講演後にはもうダウンロードできるようになってました。</p>
<img alt="rubykaigi_some5.jpg" width="256" height="192" src="rubykaigi_some5.jpg">
<h3><a name="l1"><span class="sanchor"> </span></a>自己紹介</h3>
<ul>
<li>白い髭があります</li>
<li>1979年から職業プログラマ</li>
<li>1987年からテキスト処理</li>
<li>2006年からRubyを使いはじめました<ul>
<li>Rubyが最も好きなプログラム言語</li>
</ul></li>
</ul>
<p>Rubyはプログラマとプログラムをより良くする。</p>
<p>M17Nのはなしをします。
1年まえからのblogでのポスト数の変化をTechnoratiより、見ると、
1時間あたりのポスト数は時間で変化しない。どの言語が優位というわけでもない。
つまり、Rubyは地球上のどのローカル時間でも使われている。</p>
<p>というわけで、たぶんバグ：</p>
<pre> /[a-zA-Z]+/</pre>
<h3><a name="l2"><span class="sanchor"> </span></a>解決するべき問題</h3>
<ul>
<li>キャラクタコードの同定</li>
<li>データの保存</li>
<li>使いやすいAPI</li>
</ul>
<p>詳しくは、「The World's Writing Systems」(1996)を参照のこと。
これは、美しくて高い本。</p>
<p>インターネット上のテキスト処理については、
「Character Model for the World Wide Web 1.0: Fundamentals」
W3C recommendation 2005, <a href="http://www.w3.org/TR/charmod/" class="external">http://www.w3.org/TR/charmod/</a> を参照のこと。
この文書では、Unicodeに重点が起かれている。</p>
<h3><a name="l3"><span class="sanchor"> </span></a>Unicode</h3>
<p>UnicodeとISO10646。このふたつは今も将来も同一のもの。
詳細は、「Unicode 5.0」を参照のこと。
この本も高いが、よく整理されている。</p>
<p>Unicodeについて語ると何日もかかるがここではその一部を紹介する。</p>
<ul>
<li>Unicodeは17枚の言語面それぞれに64kのコードポイント(U+0000-U+10FFFF)が定義されている<ul>
<li>Basic Multilingal Plane (BMP)</li>
<li>Dead languages &amp; Math</li>
<li>Han Characters</li>
<li>:</li>
</ul></li>
<li>文字は数字でidentifyされている。<ul>
<li>U+0000からU+FFFFを見ると、<ul>
<li>アルファベット</li>
<li>句読点</li>
<li>アジア言語</li>
<li>Han characters</li>
<li>韓国語</li>
<li>インド語</li>
<li>タイ語</li>
<li>…</li>
</ul></li>
</ul></li>
</ul>
<p>詳細は、<a href="http://www.unicode.org/Public/UNIDATA/" class="external">http://www.unicode.org/Public/UNIDATA/</a> に。</p>
<h3><a name="l4"><span class="sanchor"> </span></a>Unicodeの良い点悪い点</h3>
<p>Unicodeは完璧ではないが良い点がいくつもある</p>
<ul>
<li>沢山の文字</li>
<li>コードポイントの10%程度しかつかっていない。ほとんどは将来2-3の宇宙人の文字があってもおっけー</li>
<li>Private useの領域がある<ul>
<li>NTTの絵文字とか</li>
</ul></li>
<li>定義プロセスがはっきりしている</li>
<li>Unicode文字のデータベースがしっかりしている</li>
<li>どこでも使える<ul>
<li>W3Cはインターネットでデータをやりとりする仕様をつくるときはUnicodeでデータを交換することを要求している</li>
</ul></li>
</ul>
<p>Unicodeの問題</p>
<ul>
<li>文字合成の問題<ul>
<li>合成文字に複数のUnicode表現が対応する</li>
</ul></li>
<li>レガシーなキャラクタコードとの/同士での衝突</li>
<li>Han unification - 日韓中の漢字の統合<ul>
<li>wikipedia(賛成)</li>
<li>tronweb.super-nova.co.jp(反対)</li>
<li>www.jbrowse.com(中立)</li>
<li>代替案として、歴史的文字まで含む、文字鏡などがある。</li>
</ul></li>
</ul>
<h3><a name="l5"><span class="sanchor"> </span></a>我々がプログラムを作るとしたら</h3>
<h4><a name="l6"> </a>キャラクタコード</h4>
<p>Unicodeを使うべきだろう。</p>
<p>では、あるコードポイントの文字をどうやってバイト列にして保存するか</p>
<ul>
<li>エンディアンは？</li>
<li>公式: UTF-8/16/32</li>
<li>実用的: ASCII EBCDIC Shift-JIS Big6 GB18030 utf-8 EUC-KR ISCII KOI8 Microsoft code pages, ISO-8859-*</li>
</ul>
<p>UTFのトレードオフ - 
8/16/32それぞれに長所と短所がある
→Characters vs bytesを参照のこと:
<a href="http://www.tbray.org/ongoing/When/200x/2003/04/26/UTF" class="external">http://www.tbray.org/ongoing/When/200x/2003/04/26/UTF</a></p>
<p>…が、Rubyプログラマはどれを使うべきか悩むべきではない。
Rubyの実装系で気にするべき問題。</p>
<h4><a name="l7"> </a>ネットワークでのデータのやりとり</h4>
<p>ネットワークの向こうから来たバイト列をどう文字にするか。</p>
<p>エンコーディングを想像するのは得にビジネスでは避けたい。
HTTPヘッダを使うのが、IETFの正式な養成。時々まちがってるけどね。
もうひとつの方法はXMLを使うこと。
XMLデータは自分のエンコード方法を含んでいるから。</p>
<h3><a name="l8"><span class="sanchor"> </span></a>APIをどうしようか</h3>
<p>Javaの場合はStringはUnicode。Perl5はUnicodeに対応しているがちょっとバグがある。Perl6で解決されるからだいじょーぶ。Pythonは良い方向に変化している。</p>
<p>では、Rubyは？</p>
<p>i18nに問題のあるメソッドがある</p>
<pre> == =~ [] []= eql? gsub gsub! index length …</pre>
<ul>
<li>バイト数を知りたいのか文字数を知りたいのか？</li>
</ul>
<p>問題は文字単位のイテレータが無いのが問題だろう
例えば、String#each_char があるが、このメソッドはRailsがないと使えない。</p>
<h4><a name="l9"> </a>大文字と小文字の変換の問題</h4>
<p>例えば、エスツェットの大文字は何?</p>
<p>大小文字の対応は言語によって異なるので、自動的にはできないもの。</p>
<h4><a name="l10"> </a>正規表現</h4>
<p>Oniguruma4.0では\pは使えない</p>
<h4><a name="l11"> </a>文字種別の参照</h4>
<p>プログラマは数字で文字を表現したい。たとえば、通貨を区別するのに、</p>
<ul>
<li>0x20ac ユーロ</li>
<li>0xa5 円</li>
<li>'$'</li>
</ul>
<p>という対応づけをしている。</p>
<p>これはできるべき。</p>
<h3><a name="l12"><span class="sanchor"> </span></a>とにかく</h3>
<p>歴史的な文書を扱う人、アカデミックな用途以外の、普通のビジネスにはUnicodeがもっとも良いだろう。</p>
<p>現在の他言語化のとりくみは、</p>
<ul>
<li>Matz/ko1: M18N Ruby2<ul>
<li>IRCでささださんから「おれはやってない」というツッコミが。</li>
</ul></li>
<li>Julik: ActivaSupprt</li>
<li>JRuby: Javaの上で100% Unicode</li>
</ul>
<ul>
<li>悪いニュース 複雑で大きな問題</li>
<li>良いニュース 頭のいい人がいる</li>
</ul>
    </div>
  </div>
</div>
<div class="day">
  <h2><span class="date"><a name="l13"> </a></span><span class="title">質疑応答</span></h2>
  <div class="body">
    <div class="section">
      <dl>
<dt>Q</dt>
<dd>Rubyは特定のエンコーディングに偏らないはずではなかったのか
</dd>
<dt>A</dt>
<dd>Unicodeを中心にしたい
</dd>
</dl>
<dl>
<dt>Q</dt>
<dd>正規表現や文字の表現の記法を各プログラミング言語で共通にするべきと考えているか？
</dd>
<dt>A</dt>
<dd>それはそう重要ではない。文法が違うのが普通なので。文字は同じ文字で、Unicodeであるべき。
</dd>
</dl>
<dl>
<dt>Q</dt>
<dd>合成文字は正しく1文字として扱われるべきか？
</dd>
<dt>A</dt>
<dd>これは規格化の問題。W3Cの文書ではできるだけ短い文字数で表現することを勧めている。さらに、インターネットでデータを送る場合は送る側で規格化する。composeできないものはそのままにするしかない。
</dd>
</dl>
    </div>
  </div>
</div>
</div>
  <div class="day">
    <div class="comment">
      <div class="caption">
        Last modified:2007/06/16 15:38:27<br>
        Keyword(s):<br>
        References:[<a href="Log.html">RubyKaigi2007速報ログ</a>] <br>
        
      </div>
    </div>
    
  </div>
</div>

<hr style="display: none">
<div class="sidebar">
  <form action="index.html" method="get">
  <input type="text" name="key" size="15">
  <input type="submit" name="comment" value="Search">
  <input type="hidden" name="c" value="search">
</form>

<h3><a name="s0"><span class="sanchor"> </span></a><a href="index.html">トップページ</a></h3>
<h3><a name="s1"><span class="sanchor"> </span></a><a href="news.html">新着情報</a></h3>
<dl>
<dt>2007/06/13</dt>
<dd>
</dd>
<dd><a href="2007061001.pdf">「RubyKaigi2007のライトニングトークスに関するコメント」</a>発表
</dd>
<dt>2007/06/12</dt>
<dd>
</dd>
<dd><a href="enquete.html">アンケート</a>ページ公開
</dd>
<dd><a href="Goodies.html">会場BGMリスト</a>公開
</dd>
<dt>2007/06/10</dt>
<dd>
</dd>
<dd><a href="TrackBack.html">トラックバック</a>ページ公開
</dd>
<dt>2007/06/09</dt>
<dd>
</dd>
<dd><a href="Log.html">速報ログ</a>ページ公開
</dd>
</dl>
<h3><a name="s2"><span class="sanchor"> </span></a><a href="Program.html">プログラム</a></h3>
<dl>
<dt><a href="Program0609.html">一日目(6/9)</a></dt>
<dd>
</dd>
<dt><a href="Program0610.html">二日目(6/10)</a></dt>
<dd>
</dd>
</dl>
<h3><a name="s3"><span class="sanchor"> </span></a><a href="Party.html">懇親会</a></h3>
<h3><a name="s4"><span class="sanchor"> </span></a><a href="Goodies.html">おまけ</a></h3>
<h3><a name="s5"><span class="sanchor"> </span></a><a href="english.html">English</a></h3>
<h3><a name="s6"><span class="sanchor"> </span></a><a href="Sponsors.html">スポンサー</a></h3>
<h3><a name="s7"><span class="sanchor"> </span></a><a href="ExecutiveCommittee.html">日本Ruby会議2007実行委員会</a></h3>
<h4><a name="s8"> </a>特別協賛</h4>
<ul>
<li><a href="http://www.netlab.jp/" class="external"><img alt="nacl.png" width="146" height="50" src="nacl.png"></a></li>
</ul>
<h4><a name="s9"> </a>協賛</h4>
<ul>
<li><a href="http://www.asteriks.co.jp/" class="external"><img alt="asteriks.png" width="160" height="29" src="asteriks.png"></a></li>
<li><a href="http://www.ctc-g.co.jp/" class="external"><img alt="ctc.png" width="156" height="46" src="ctc.png"></a></li>
<li><a href="http://www.infoteria.com/jp/" class="external"><img alt="infoteria.png" width="132" height="50" src="infoteria.png"></a></li>
<li><a href="http://www.rakuten.co.jp/" class="external"><img alt="rakuten.png" width="128" height="43" src="rakuten.png"></a></li>
<li><a href="http://www.drecom.co.jp/" class="external"><img alt="drecom.png" src="drecom.png"></a></li>
<li><a href="http://www.ibm.com/jp/software/" class="external"><img alt="ibm.png" width="104" height="68" src="ibm.png"></a></li>
<li><a href="http://jp.sun.com/company/approach/community.html" class="external">サン・マイクロシステムズ株式会社</a></li>
<li><a href="http://www.esm.co.jp/" class="external"><img alt="eiwa.png" width="106" height="48" src="eiwa.png"></a></li>
<li><a href="http://www.rsssuite.jp/corp.html" class="external"><img alt="feedforce.png" width="112" height="27" src="feedforce.png"></a></li>
<li><a href="http://www.meme.ne.jp/" class="external"><img alt="meme.png" width="74" height="39" src="meme.png"></a></li>
<li><a href="http://www.kccs.co.jp/" class="external"><img alt="kccs.png" width="98" height="29" src="kccs.png"></a></li>
<li><a href="http://www.nifty.com/labs/" class="external"><img alt="nifty.png" width="74" height="56" src="nifty.png"></a></li>
<li><a href="http://www.twinspark.co.jp/" class="external"><img alt="twinspark.png" src="twinspark.png"></a></li>
</ul>
<h4><a name="s10"> </a>技術協力</h4>
<ul>
<li><a href="http://www.i-revo.jp/" class="external"><img alt="irevo.png" width="98" height="30" src="irevo.png"></a></li>
</ul>
<h3><a name="s11"><span class="sanchor"> </span></a>RSS</h3>
<p><a href="index.rss" class="external"><img alt="feed-icon-24x24.png" width="24" height="24" src="feed-icon-24x24.png"></a></p>

</div>

<div class="footer"></div>
<div class="adminmenu"><span class="adminmenu"><a href="index.html?c=login%3Bp=Log0609-S4-02">Login</a></span></div>
</body>
</html>
